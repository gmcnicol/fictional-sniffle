# 002 â€” Design System & Theme

**Goal:** Muted light/dark theme, system-dependent by default, with CSS variables.

## Deliverables

- `tokens.css` with color tokens (light/dark), spacing, radii, shadows.
- Theme switch (system / light / dark) persisted in Dexie `settings` (with in-memory fallbacks to localStorage for early boot).
- Typography scale with readable line-lengths.
- Base components: `Button`, `IconButton`, `ListItem`, `Panel`, `EmptyState`, `Spinner`.

## Acceptance Criteria

- Applies `prefers-color-scheme`. Dark theme is **slightly lighter foreground on darker background**; light theme is the inverse with muted palette.
- All text meets WCAG AA contrast.
- Reader surface centers large images; max width for readable text.

## Tests

- Visual check with light/dark, reduced motion on/off.
- Keyboard focus visible on all interactive elements.

## Checklist

- [ ] tokens.css
- [ ] theme provider
- [ ] base components
- [ ] accessibility contrast checks
