# 031 â€” CI: GitHub Actions Enforcement Pipeline

**Goal:** A single authoritative CI that blocks merges on any deviation.

## Deliverables

- `.github/workflows/ci.yml` that runs on PR and push to main (Node 20, Ubuntu latest):
  1. `npm ci`
  2. `npm run lint` and `npm run format:check`
  3. `npm run typecheck`
  4. `npm test -- --coverage`
  5. `npm run build`
  6. `npm run e2e` (Playwright)
  7. `npm run a11y` (axe)
  8. `npm run lhci` (Lighthouse mobile)
  9. Bundle size check (fail >150KB gzip initial)
- Cache node_modules and Playwright browsers to speed runs.

## Tests

- Dry run locally with `act` (optional) or ensure workflow passes on branch.

## CI Gates

- This workflow is the gate. Any red step blocks merges.

## Acceptance Criteria

- CI turns green on a full run in the repository.
- Subsequent PRs are blocked until all steps pass.
